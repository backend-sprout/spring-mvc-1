# 📕 서블릿   
## 📖 서블릿 탄생 배경    
클라이언트가 서버에게 요청을 보낼때는 `HTTP Message`를 보낸다.           
    
 **HTTP Request Message**
 ```http
 POST /save HTTP/1.1
 Host:localhost:8080
 Content-Type: applcation/x-www-form-urlencoded
 
 username=kim&age=20
 ```
       
이때, 서버는 `HTTP Message`를 분석해서 아래와 같은 작업을 해야한다.          
            
**서버에서 처리해야할 작업**       
1. 서버에서 TCP/IP 연결을 대기하도록 직접 코드를 작성해야한다.(소켓 연결)     
2. `HTTP Message`는 서버로 넘어오면서 단순 문자열로 넘어온다.      
   그렇기에 알맞는 분기에 맞추어 데이터를 파싱하는 코드를 작성해야하며       
3. 파싱한 데이터를 통해 알맞는 `HTTP Method` 인지, `URL`인지 검증을 한다.  
4. `Content-type`을 확인하고   
5. `Content-type`에 따라서 `바디 내용 파싱 방식`을 결정하고 파싱한다.          
6. `url`에 맞는 로직을 실행한다. (Controller -> service -> Repository)  
7. **비즈니스 로직을 실행한다. (Repository -> DB,DB에 저장요청)**        
8. 비즈니스 로직이 끝나고 반환된 값을 기준으로 `HTTP Response Message`를 작성한다.     
    * HTTP startline 생성
    * HTTP Header 생성
    * HTTP Body 에 데이터 입력 
9. TCP/IP 연결을 종료시킨다.
     
**만약 이 같은 작업을 일일히 개발자가 직접 코드로 작성해야한다면? 🤔**   
사실, 개발자가 초점을 맞추어야 할 곳은 **비즈니스 로직을 실행하는 구문이다.**       
그러나 요청을 받고 응답하는 과정은 **너무 많은 단계를 거치고 이를 반복해야한다.**           
그래서 이를 해결하기 위해 `Servlet`이라는 프로그램이 등장했다.     






      




